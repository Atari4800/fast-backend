\hypertarget{namespacedjango_1_1core_1_1signing}{}\doxysection{django.\+core.\+signing Namespace Reference}
\label{namespacedjango_1_1core_1_1signing}\index{django.core.signing@{django.core.signing}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_bad_signature}{Bad\+Signature}}
\item 
class \mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_j_s_o_n_serializer}{JSONSerializer}}
\item 
class \mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_signature_expired}{Signature\+Expired}}
\item 
class \mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_signer}{Signer}}
\item 
class \mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_timestamp_signer}{Timestamp\+Signer}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacedjango_1_1core_1_1signing_ae525e4e0de858ee700889ed8177054d5}\label{namespacedjango_1_1core_1_1signing_ae525e4e0de858ee700889ed8177054d5}} 
def {\bfseries b64\+\_\+encode} (s)
\item 
\mbox{\Hypertarget{namespacedjango_1_1core_1_1signing_ab585757beb6caf8bff8ede7c16b58d36}\label{namespacedjango_1_1core_1_1signing_ab585757beb6caf8bff8ede7c16b58d36}} 
def {\bfseries b64\+\_\+decode} (s)
\item 
\mbox{\Hypertarget{namespacedjango_1_1core_1_1signing_a1925ed21c891fac4d3237d61aa45b034}\label{namespacedjango_1_1core_1_1signing_a1925ed21c891fac4d3237d61aa45b034}} 
def {\bfseries base64\+\_\+hmac} (salt, value, key, algorithm=\textquotesingle{}sha1\textquotesingle{})
\item 
\mbox{\Hypertarget{namespacedjango_1_1core_1_1signing_a3c835a6452ca17ae9326e982675e9e98}\label{namespacedjango_1_1core_1_1signing_a3c835a6452ca17ae9326e982675e9e98}} 
def {\bfseries get\+\_\+cookie\+\_\+signer} (salt=\textquotesingle{}django.\+core.\+signing.\+get\+\_\+cookie\+\_\+signer\textquotesingle{})
\item 
def \mbox{\hyperlink{namespacedjango_1_1core_1_1signing_afdc7ebac44c1f1d46d357c5b0da5b437}{dumps}} (obj, key=None, salt=\textquotesingle{}django.\+core.\+signing\textquotesingle{}, serializer=\mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_j_s_o_n_serializer}{JSONSerializer}}, compress=False)
\item 
def \mbox{\hyperlink{namespacedjango_1_1core_1_1signing_a446d934d71ab3c8a2c282bda38d8cfd6}{loads}} (s, key=None, salt=\textquotesingle{}django.\+core.\+signing\textquotesingle{}, serializer=\mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_j_s_o_n_serializer}{JSONSerializer}}, max\+\_\+age=None)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Functions for creating and restoring url-safe signed JSON objects.

The format used looks like this:

>>> signing.dumps("hello")
'ImhlbGxvIg:1QaUZC:YIye-ze3TTx7gtSv422nZA4sgmk'

There are two components here, separated by a ':'. The first component is a
URLsafe base64 encoded JSON of the object passed to dumps(). The second
component is a base64 encoded hmac/SHA1 hash of "$first_component:$secret"

signing.loads(s) checks the signature and returns the deserialized object.
If the signature fails, a BadSignature exception is raised.

>>> signing.loads("ImhlbGxvIg:1QaUZC:YIye-ze3TTx7gtSv422nZA4sgmk")
'hello'
>>> signing.loads("ImhlbGxvIg:1QaUZC:YIye-ze3TTx7gtSv422nZA4sgmk-modified")
...
BadSignature: Signature failed: ImhlbGxvIg:1QaUZC:YIye-ze3TTx7gtSv422nZA4sgmk-modified

You can optionally compress the JSON prior to base64 encoding it to save
space, using the compress=True argument. This checks if compression actually
helps and only applies compression if the result is a shorter string:

>>> signing.dumps(list(range(1, 20)), compress=True)
'.eJwFwcERACAIwLCF-rCiILN47r-GyZVJsNgkxaFxoDgxcOHGxMKD_T7vhAml:1QaUaL:BA0thEZrp4FQVXIXuOvYJtLJSrQ'

The fact that the string is compressed is signalled by the prefixed '.' at the
start of the base64 JSON.

There are 65 url-safe characters: the 64 used by url-safe base64 and the ':'.
These functions make use of all of them.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacedjango_1_1core_1_1signing_afdc7ebac44c1f1d46d357c5b0da5b437}\label{namespacedjango_1_1core_1_1signing_afdc7ebac44c1f1d46d357c5b0da5b437}} 
\index{django.core.signing@{django.core.signing}!dumps@{dumps}}
\index{dumps@{dumps}!django.core.signing@{django.core.signing}}
\doxysubsubsection{\texorpdfstring{dumps()}{dumps()}}
{\footnotesize\ttfamily def django.\+core.\+signing.\+dumps (\begin{DoxyParamCaption}\item[{}]{obj,  }\item[{}]{key = {\ttfamily None},  }\item[{}]{salt = {\ttfamily \textquotesingle{}django.core.signing\textquotesingle{}},  }\item[{}]{serializer = {\ttfamily \mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_j_s_o_n_serializer}{JSONSerializer}}},  }\item[{}]{compress = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return URL-safe, hmac signed base64 compressed JSON string. If key is
None, use settings.SECRET_KEY instead. The hmac algorithm is the default
Signer algorithm.

If compress is True (not the default), check if compressing using zlib can
save some space. Prepend a '.' to signify compression. This is included
in the signature, to protect against zip bombs.

Salt can be used to namespace the hash, so that a signed string is
only valid for a given namespace. Leaving this at the default
value or re-using a salt value across different parts of your
application without good cause is a security risk.

The serializer is expected to return a bytestring.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacedjango_1_1core_1_1signing_a446d934d71ab3c8a2c282bda38d8cfd6}\label{namespacedjango_1_1core_1_1signing_a446d934d71ab3c8a2c282bda38d8cfd6}} 
\index{django.core.signing@{django.core.signing}!loads@{loads}}
\index{loads@{loads}!django.core.signing@{django.core.signing}}
\doxysubsubsection{\texorpdfstring{loads()}{loads()}}
{\footnotesize\ttfamily def django.\+core.\+signing.\+loads (\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{key = {\ttfamily None},  }\item[{}]{salt = {\ttfamily \textquotesingle{}django.core.signing\textquotesingle{}},  }\item[{}]{serializer = {\ttfamily \mbox{\hyperlink{classdjango_1_1core_1_1signing_1_1_j_s_o_n_serializer}{JSONSerializer}}},  }\item[{}]{max\+\_\+age = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Reverse of dumps(), raise BadSignature if signature fails.

The serializer is expected to accept a bytestring.
\end{DoxyVerb}
 